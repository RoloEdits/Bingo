@page "/counter"
@inject GameCache? gameCache

<PageTitle>Counter</PageTitle>

<MudText Typo="Typo.h3" GutterBottom="true">Counter</MudText>
<MudText Class="mb-4">Current count: @_currentCount.ToString()</MudText>
<MudStack Row="true">
    <MudButton Color="Color.Success" Variant="Variant.Filled" @onclick="IncrementCount">Increase</MudButton>
    <MudButton Color="Color.Dark" Variant="Variant.Filled" @onclick="ResetCountToZero">Reset</MudButton>
    <MudButton Color="Color.Error" Variant="Variant.Filled" @onclick="DecrementCount">Decrease</MudButton>
</MudStack>
<MudText Typo="Typo.h1">@ReadCache().ToString()</MudText>

@code {

    private int _currentCount = 0;

    private void IncrementCount()
    {
        _currentCount++;
    }

    private void DecrementCount()
    {
        _currentCount--;
    }

    private void ResetCountToZero()
    {
        _currentCount = 0;
    }

    private int ReadCache()
    {
        if (gameCache?.Game is null)
        {
            return 9;
        }

        return gameCache.Game.Card.TotalSquares;
    }
}
